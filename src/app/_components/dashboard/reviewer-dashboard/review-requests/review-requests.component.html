<div class="row" class="questionsList">
  <div class="col-xs-12">
    <div class="col-xs-5">
      <div *ngIf="pendingRequests$ | async as pendingRequests">
        <div [id]="question.quesId" (click)="onQuestionChanged(question)"
         *ngFor="let question of pendingRequests" class="clickable">
          <app-question-list-item [standard]="question.std"
            [subject]="question.subject" [title]="question.title"
            [status]="question.status"  [lastModifiedDate]="question.lastModifiedDate">
          </app-question-list-item>
      </div>
      </div>
    </div>

    <div class="col-xs-7" *ngIf="selectedQuestion">

      <div [ngClass]="getClassForStatus(selectedQuestion.status)">
        <div class="panel-heading">{{selectedQuestion.status | enum:"status"}} Request</div>
        <div class="panel-body">
            <app-question-display [selectedQues]="selectedQuestion" [showOwner]="true"></app-question-display>
        </div>
        <div class="panel-footer">
          <div class="row">
              <button class="btn btn-success col-xs-offset-1 col-xs-3" (click)="approveRequest()">Approve</button>
              <button *ngIf="selectedQuestion.status===1" class="btn btn-primary col-xs-offset-1 col-xs-3"
                  (click)="compareRequest()">Compare</button>
              <button class="btn btn-danger col-xs-offset-1 col-xs-3" (click)="rejectRequest()">Reject</button>
          </div>
        </div>
      </div>

    </div>
    <!-- Modal Rejection -->
    <div [ngClass]="{'fade':!showRejectReason,'show':showRejectReason}" class="modal" id="rejectModal" role="dialog">
      <div class="modal-dialog modal-md">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"
              (click)="rejectReason='';showRejectReason=false;">&times;</button>
            <h4 class="modal-title">Rejection Reason</h4>
          </div>
          <div class="modal-body">
            <input type="text" [(ngModel)]="rejectReason" class="form-control">
          </div>
          <div class="modal-footer">
            <button [disabled]="!rejectReason" class="btn btn-danger" data-dismiss="modal"
              (click)="rejectRequest()">Reject Question</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Compare -->
    <div [ngClass]="{'fade':!compareMode,'show':compareMode}" class="modal" id="compareModal" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" (click)="compareMode=false;">&times;</button>
            <h4 class="modal-title">View Changes</h4>
          </div>
          <div class="modal-body" *ngIf="compareMode">
            <div class="row">
              <div class="col-xs-6">
                  <div [ngClass]="getClassForStatus(originalQuestion.status)">
                      <div class="panel-heading">Original</div>
                      <div class="panel-body">
                          <app-question-display [selectedQues]="originalQuestion" [showOwner]="false"></app-question-display>
                      </div>
                  </div>
              </div>
              <div class="col-xs-6">
                      <div [ngClass]="getClassForStatus(selectedQuestion.status)">
                         <div class="panel-heading">Modified</div>
                          <div class="panel-body">
                              <app-question-display [selectedQues]="selectedQuestion" [showOwner]="false"></app-question-display>
                          </div>
                      </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
